<!DOCTYPE html>
<html lang="en" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta property="og:url" content="http://localhost:1313/warehousing/causality/">
  <meta property="og:site_name" content="ðŸ“ˆ BigData Junction">
  <meta property="og:title" content="ðŸ“ˆ BigData Junction">
  <meta property="og:description" content="Prediction vs Causality # Prediction: using $X$ data, can we guess what $y$ will be?
Causation: does X cause y to change?
Affects decisions Typically established via randomized experiments Case Studies in Causality # Confounding Factor # A Martian comes to Earth and observes that people using umbrellas have a higher probability of getting wet than people who do not. They infer that using an umbrella causes people to get wet.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="warehousing">
    <meta property="article:modified_time" content="2024-06-16T15:39:56+05:30">
<title>Causality | ðŸ“ˆ BigData Junction</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.a861a34b0976720d1504be0c2ee9870137640447a7fcac0c288dc885ce0f9bdb.css" integrity="sha256-qGGjSwl2cg0VBL4MLumHATdkBEen/KwMKI3Ihc4Pm9s=" crossorigin="anonymous">

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
  



<meta charset="UTF-8" />
<meta
  name="description"
  content="Prediction vs Causality # Prediction: using $X$ data, can we guess what $y$ will be?
Causation: does X cause y to change?
Affects decisions Typically established via randomized experiments Case Studies in Causality # Confounding Factor # A Martian comes to Earth and observes that people using umbrellas have a higher probability of getting wet than people who do not. They infer that using an umbrella causes people to get wet."
/>
<title>
  ðŸ“ˆ BigData Junction
</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />






<link rel="shortcut icon" type="image/png"  href="http://localhost:1313//favicon.png" />

























  
  


<link href="http://localhost:1313/styles.e08ceb33360cec132feb69cfb982e2a4.min.css" rel="stylesheet" />


<link href="http://localhost:1313/quartz/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css" rel="stylesheet" id="theme-link">

  

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" as="style"
      onload="this.onload=null;this.rel='stylesheet'"
      integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"
        integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx"
        crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js"
        integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR"
        crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js"
        integrity="sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A"
        crossorigin="anonymous"></script>

  






<script src="http://localhost:1313/quartz/js/darkmode.5222f81439f46765b5d071db9df5495d.min.js"></script>



<script src="http://localhost:1313/quartz/js/util.c69e233dc1cc331a30b0f670e657b425.min.js"></script>



<script async src="https://unpkg.com/@floating-ui/core@0.7.3"></script>
<script async src="https://unpkg.com/@floating-ui/dom@0.5.4"></script>

<script src="http://localhost:1313/quartz/js/popover.f03552ccb84d99ca615d1cfb9abde59e.min.js"></script>




<script defer src="http://localhost:1313/quartz/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js"></script>




<script defer src="http://localhost:1313/quartz/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js"></script>




<script defer src="http://localhost:1313/quartz/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js"></script>



 
<script>
  const SEARCH_ENABLED =  false 
  const LATEX_ENABLED =  true 
  const PRODUCTION =  false 
  const BASE_URL = "http://localhost:1313/"
  const fetchData = Promise.all([
        fetch("http:\/\/localhost:1313\/indices\/linkIndex.4cf79553ca8debc59a551ad2d349fa28.min.json")
          .then(data => data.json())
          .then(data => ({
            index: data.index,
            links: data.links,
          })),
        fetch("http:\/\/localhost:1313\/indices\/contentIndex.aec3b7dd5bc8f6d692d4e19aead79b2e.min.json")
          .then(data => data.json()),
      ])
      .then(([{index, links}, content]) => ({
        index,
        links,
        content,
      }))

    const render = () => {
    
    const siteBaseURL = new URL(BASE_URL);
    const pathBase = siteBaseURL.pathname;
    const pathWindow = window.location.pathname;
    const isHome = pathBase == pathWindow;

    addCopyButtons();
    

    

    addCollapsibleCallouts();
    

    
    initPopover(
      "http://localhost:1313",
       true 
    )
    

    
    const footer = document.getElementById("footer")
    if (footer) {
      const container = document.getElementById("graph-container")
      
      if (!container) return requestAnimationFrame(render)
      
      container.textContent = ""

      const drawGlobal = true;
      drawGraph(
          "http://localhost:1313",
          drawGlobal,
          [{"/cs61b":"#4388cc"},{"/data102":"#ba0af0"},{"/cs70":"#70fa70"},{"/cs61a":"#fbff22"},{"/cs186":"#ffaf1c"},{"/cs168":"#ff86a1"},{"/cs162":"#ffdfdd"}],
          drawGlobal ? {"centerForce":1,"depth":-1,"enableDrag":true,"enableLegend":false,"enableZoom":true,"fontSize":0.5,"linkDistance":1,"opacityScale":3,"repelForce":1,"scale":1.4} : {"centerForce":1,"depth":1,"enableDrag":true,"enableLegend":false,"enableZoom":true,"fontSize":0.6,"linkDistance":1,"opacityScale":3,"repelForce":2,"scale":1.2}
        );

      }
    

    
      var els = document.getElementsByClassName("mermaid");
      if (els.length > 0) {
        import('https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs').then(
          (obj) => {
            
            
            obj.default.init();
          }
        )
      }
    
  }

  const init = (doc = document) => {
    
    addCopyButtons();
    

    addTitleToCodeBlocks();
    renderMathInElement(doc.body, {
      delimiters: [
        {left: '$$', right: '$$', display: true},
        {left: '$', right: '$', display: false},
      ],
      macros: {
        'â€™': "'"
      },
      throwOnError : false
    });
    
  };
</script>

<script>
  window.Million = {
    navigate: (url) => (window.location.href = url),
    prefetch: () => {},
  }

  window.addEventListener("DOMContentLoaded", () => {
    init()
    render()
  })
</script>


</head>
<div id="search-container">
  <div id="search-space">
    <input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search"
      placeholder="Search for something..." dir="">
    <div id="results-container">
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js"
  integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin="anonymous" defer></script>

<script defer src="http://localhost:1313/quartz/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js"></script>



<header class="book-header">
    
    <label for="menu-control">
      <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
    </label>
    <h1 id="page-title"><a href="http://localhost:1313/">ðŸ“ˆ BigData Junction</a></h1>
    <div class="spacer"></div>
    <div id="search-icon" class="quartz-search">
      <p>Search</p>
      <svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg>
    </div>
    <div class='darkmode'>
    <input class='toggle' id='darkmode-toggle' type='checkbox' tabindex="-1">
    <label id="toggle-label-light" for='darkmode-toggle' tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xml:space="preserve">
            <title>Light Mode</title>
            <path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z" />
        </svg>
    </label>
    <label id="toggle-label-dark" for='darkmode-toggle' tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'" xml:space="preserve">
            <title>Dark Mode</title>
            <path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z" />
        </svg>
    </label>
</div>
</header>


<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <main class="flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<div class="menu-search">
  <div id="search-icon" class="quartz-search">
    <p>Search</p>
    <svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7">
      <title id="title">Search Icon</title>
      <desc id="desc">Icon to open search</desc>
      <g class="search-path" fill="none">
        <path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4" />
        <circle cx="8" cy="8" r="7" />
      </g>
    </svg>
  </div>
</div>













  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-36a3ed262b315ff04085d7b53a448994" class="toggle"  />
    <label for="section-36a3ed262b315ff04085d7b53a448994" class="flex justify-between">
      <a href="/python/" class="book-collapse-toggle ">Python</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Object Oriented Programming</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/oop/inheritance/" class="">Inheritance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/oop/access-control/" class="">Access Control</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/oop/dynamic-method-selection/" class="">Dynamic Method Selection</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/oop/objects/" class="">Java Objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/oop/generics/" class="">Generic Types</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Asymptotics</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/asymptotics/asymptotics/" class="">Asymptotic Analysis Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/asymptotics/amortization/" class="">Amortization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/asymptotics/asymptotics-practice/" class="">Asymptotics Practice</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Abstract Data Types</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2805f6370848571b8798d519e9c354a9" class="toggle"  />
    <label for="section-2805f6370848571b8798d519e9c354a9" class="flex justify-between">
      <a href="/python/abstract-data-types/collections/" class="book-collapse-toggle ">Collections</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/collections/arrays/" class="">Arrays</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/collections/linked-lists/" class="">Linked Lists</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/collections/sets/" class="">Sets</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/collections/stacks-and-queues/" class="">Stacks and Queues</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f2ba402577081742d50fe3e1cde178c1" class="toggle"  />
    <label for="section-f2ba402577081742d50fe3e1cde178c1" class="flex justify-between">
      <a href="/python/abstract-data-types/binary-trees/" class="book-collapse-toggle ">Binary Trees</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/binary-trees/balanced-search-structures/" class="">Balanced Search Structures</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/binary-trees/heaps/" class="">Heaps</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/binary-trees/tries/" class="">Tries</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/graphs/" class="">Graphs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/hashing/" class="">Hashing and Hash Tables</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/union-find-disjoint-sets/" class="">Union Find (Disjoint Sets)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/comparables-and-comparators/" class="">Comparables and Comparators</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Algorithms</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-840c6fbe99128235711db7f7aea6e8ea" class="toggle"  />
    <label for="section-840c6fbe99128235711db7f7aea6e8ea" class="flex justify-between">
      <a href="/python/algorithms/searching/" class="book-collapse-toggle ">Searching</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/searching/binary-search/" class="">Binary Search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/searching/breadth-first-search-bfs/" class="">Breadth First Search (DFS)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/searching/depth-first-search-dfs/" class="">Depth First Search (DFS)</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-15240e0c0d29d00ce3941dfb840ed889" class="toggle"  />
    <label for="section-15240e0c0d29d00ce3941dfb840ed889" class="flex justify-between">
      <a href="/python/algorithms/shortest-paths/" class="book-collapse-toggle ">Shortest Paths</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/shortest-paths/dijkstras-algorithm/" class="">Dijkstra&#39;s Algorithm</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/shortest-paths/a-search/" class="">A* Search</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ebd3f2b246ca70c549a11d8499364c15" class="toggle"  />
    <label for="section-ebd3f2b246ca70c549a11d8499364c15" class="flex justify-between">
      <a href="/python/algorithms/minimum-spanning-trees/" class="book-collapse-toggle ">Minimum Spanning Trees</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/minimum-spanning-trees/kruskals-algorithm/" class="">Kruskal&#39;s Algorithm</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/minimum-spanning-trees/prims-algorithm/" class="">Prim&#39;s Algorithm</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/sorting/" class="">Sorting</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/minimax/" class="">Minimax Algorithm</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Misc. Topics</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/misc-topics/modular-arithmetic/" class="">Modular Arithmetic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/misc-topics/more-resources/" class="">More Resources</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8eaa952c883657ff0fde6609f1afb6ac" class="toggle"  />
    <label for="section-8eaa952c883657ff0fde6609f1afb6ac" class="flex justify-between">
      <a href="/sql/" class="book-collapse-toggle ">SQL</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/sql/00-SQL-Basics/" class="">SQL Basics</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2cb61b7535210994a46f35adee41bda7" class="toggle"  />
    <label for="section-2cb61b7535210994a46f35adee41bda7" class="flex justify-between">
      <a href="/hadoop/" class="book-collapse-toggle ">Hadoop</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hadoop/latex-reference/" class="">LaTeX Reference</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Discrete Math</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/overview/" class="">Discrete Math Overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/propositional-logic/" class="">Propositional Logic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/proofs/" class="">Proofs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/stable-matching/" class="">Stable Matching</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/graphs/" class="">Graphs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/modular-arithmetic/" class="">Modular Arithmetic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/rsa-cryptography/" class="">RSA Cryptography</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/polynomials/" class="">Polynomials</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/countability/" class="">Countability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/computability/" class="">Computability</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Probability</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/probability-overview/" class="">Probability Overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/counting/" class="">Counting</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/discrete-probability/" class="">Discrete Probability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/hashing-and-the-union-bound/" class="">Hashing and the Union Bound</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/expectation-and-variance/" class="">Expectation and Variance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/concentration-inequalities/" class="">Concentration Inequalities</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/continuous-probability/" class="">Continuous Probability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/markov-chains/" class="">Markov Chains</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/the-beta-family/" class="">The Beta Family</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/conditional-expectation-and-variance/" class="">Conditional Expectation and Variance</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f6ae2f239b12d2df8093c89b05eba5b9" class="toggle"  />
    <label for="section-f6ae2f239b12d2df8093c89b05eba5b9" class="flex justify-between">
      <a href="/hive/" class="book-collapse-toggle ">Hive</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hive/latex-reference/" class="">LaTeX Reference</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Discrete Math</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/overview/" class="">Discrete Math Overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/propositional-logic/" class="">Propositional Logic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/proofs/" class="">Proofs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/stable-matching/" class="">Stable Matching</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/graphs/" class="">Graphs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/modular-arithmetic/" class="">Modular Arithmetic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/rsa-cryptography/" class="">RSA Cryptography</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/polynomials/" class="">Polynomials</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/countability/" class="">Countability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/computability/" class="">Computability</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Probability</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/probability-overview/" class="">Probability Overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/counting/" class="">Counting</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/discrete-probability/" class="">Discrete Probability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/hashing-and-the-union-bound/" class="">Hashing and the Union Bound</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/expectation-and-variance/" class="">Expectation and Variance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/concentration-inequalities/" class="">Concentration Inequalities</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/continuous-probability/" class="">Continuous Probability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/markov-chains/" class="">Markov Chains</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/the-beta-family/" class="">The Beta Family</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/conditional-expectation-and-variance/" class="">Conditional Expectation and Variance</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2602ae26ced6eeaf33acf65208f5d2ab" class="toggle"  />
    <label for="section-2602ae26ced6eeaf33acf65208f5d2ab" class="flex justify-between">
      <a href="/databases/" class="book-collapse-toggle ">Databases</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/databases/io/" class="">What is an I/O and why should I care?</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/00-SQL-Basics/" class="">SQL Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/01-Disks-Buffers-Files/" class="">Disks, Buffers, and Files</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/02-B&#43;-Trees/" class="">B&#43; Trees</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/03-Buffer-Management/" class="">Buffer Management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/04-Sorting-and-Hashing/" class="">Sorting and Hashing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/05-Iterators-and-Joins/" class="">Iterators and Joins</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/06-Relational-Algebra/" class="">Relational Algebra</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/07-Query-Optimization/" class="">Query Optimization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/08-Transactions/" class="">Transactions and ACID</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/09-Parallel-Query-Processing/" class="">Parallel Query Processing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/10-Recovery/" class="">Recovery</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/11-Distributed-Transactions/" class="">Distributed Transactions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/12-ER-Diagrams/" class="">E-R Diagrams</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f848154d2659534e47b8b735c6a1aa4d" class="toggle"  />
    <label for="section-f848154d2659534e47b8b735c6a1aa4d" class="flex justify-between">
      <a href="/pyspark/" class="book-collapse-toggle ">Pyspark</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/pyspark/io/" class="">What is an I/O and why should I care?</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/00-SQL-Basics/" class="">SQL Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/01-Disks-Buffers-Files/" class="">Disks, Buffers, and Files</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/02-B&#43;-Trees/" class="">B&#43; Trees</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/03-Buffer-Management/" class="">Buffer Management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/04-Sorting-and-Hashing/" class="">Sorting and Hashing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/05-Iterators-and-Joins/" class="">Iterators and Joins</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/06-Relational-Algebra/" class="">Relational Algebra</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/07-Query-Optimization/" class="">Query Optimization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/08-Transactions/" class="">Transactions and ACID</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/09-Parallel-Query-Processing/" class="">Parallel Query Processing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/10-Recovery/" class="">Recovery</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/11-Distributed-Transactions/" class="">Distributed Transactions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/12-ER-Diagrams/" class="">E-R Diagrams</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-463481d181ee2ba85d46b84df8b4ee12" class="toggle"  />
    <label for="section-463481d181ee2ba85d46b84df8b4ee12" class="flex justify-between">
      <a href="/airflow/" class="book-collapse-toggle ">Airflow</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/airflow/resources/" class="">Resources</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/airflow/midterm-tips/" class="">Midterm Tips</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c9e3e16db5c81a42de0a79d6b6abba50" class="toggle" checked />
    <label for="section-c9e3e16db5c81a42de0a79d6b6abba50" class="flex justify-between">
      <a href="/warehousing/" class="book-collapse-toggle ">Data Warehousing</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/warehousing/binary-decision-making/" class="">Binary Decision Making</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/hypothesis-testing/" class="">Hypothesis Testing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/decision-theory/" class="">Decision Theory</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/parameter-estimation/" class="">Parameter Estimation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/sampling/" class="">Sampling</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/regression-and-glms/" class="">Regression and GLMs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/nonparametric-methods/" class="">Nonparametric Methods</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/interpretability/" class="">Interpretability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/causality/" class="active">Causality</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/concentration-inequalities/" class="">Concentration Inequalities</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/bandits/" class="">Bandits</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/Markov-Decision-Processes/" class="">Markov Decision Processes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/Reinforcement-Learning/" class="">Reinforcement Learning</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-86d841c4a4c551bb4e21d460836d4142" class="toggle"  />
    <label for="section-86d841c4a4c551bb4e21d460836d4142" class="flex justify-between">
      <a href="/spark/" class="book-collapse-toggle ">Spark</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/spark/intro-to-the-internet/" class="">Intro to the Internet</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/cli/" class="">CLI Tools</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/intradomain-routing/" class="">Introduction to Routing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/measuring-link-performance/" class="">Measuring Link Performance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/resource-sharing-packet-and-circuit-switching/" class="">Resource Sharing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/internet-organization-and-layers/" class="">Internet Organization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/sockets-and-ports/" class="">Sockets and Ports</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/addressing-ip/" class="">Addressing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/interdomain-routing-bgp/" class="">Interdomain Routing (BGP)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/TCP/" class="">TCP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/reliability/" class="">Reliability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/congestion-control/" class="">Congestion Control</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/dns/" class="">DNS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/web/" class="">Web</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/ethernet/" class="">Ethernet</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/end-to-end-operation/" class="">End to End Operation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/final-review/" class="">Final Review</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b7b75b08ea746eeb407fc7d37ea4cda5" class="toggle"  />
    <label for="section-b7b75b08ea746eeb407fc7d37ea4cda5" class="flex justify-between">
      <a href="/git/" class="book-collapse-toggle ">Version Control-Git</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-1-OS-Basics/" class="">Chapter 1: OS Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-2-Processes/" class="">Chapter 2: Processes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-3-Threads/" class="">Chapter 3: Threads</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-4-I-O/" class="">Chapter 4: I/O</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-5-Synchronization/" class="">Chapter 5: Synchronization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-6-Scheduling/" class="">Chapter 6: Scheduling</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-7-Address-Translation/" class="">Chapter 7: Address Translation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-8-Caching/" class="">Chapter 8: Caching</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-9-File-Systems/" class="">Chapter 9: File Systems</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Appendix-A-GDB-foobars/" class="">GDB Reference</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/contributing"  target="_blank" rel="noopener">
        Contribute
      </a>
  </li>
  
  <li>
    <a href="https://github.com/64bitpandas/notes/issues"  target="_blank" rel="noopener">
        Feedback
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>
    <div class="book-page container">
      

      
      
  <article class="markdown">
    <h1 class="title">Causality</h1>
    






  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  









  
  
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
    

  

  
  
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
    

  

  
  
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
    

  

  
  
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
    

  

  
  
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
    

  

  
  
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
    

  

  
  
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
    

  

  
  
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
    

  

  
  
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
    

  

  
  
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
    

  

  
  
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
    

  







  
  
  
  
  
  
  
  
  
  






<h2 id="prediction-vs-causality">
  Prediction vs Causality
  <a class="anchor" href="#prediction-vs-causality">#</a>
</h2>
<p><strong>Prediction:</strong> using $X$ data, can we guess what $y$ will be?</p>
<p><strong>Causation:</strong> does X cause y to change?</p>
<ul>
<li>Affects decisions</li>
<li>Typically established via randomized experiments</li>
</ul>
<h2 id="case-studies-in-causality">
  Case Studies in Causality
  <a class="anchor" href="#case-studies-in-causality">#</a>
</h2>
<h3 id="confounding-factor">
  Confounding Factor
  <a class="anchor" href="#confounding-factor">#</a>
</h3>
<p>A Martian comes to Earth and observes that people using umbrellas have a higher probability of getting wet than people who do not. They infer that using an umbrella causes people to get wet.</p>
<p>This is an example of a confounding factor (rain) impacting both the independent and dependent variables. In reality, this third factor explains both of the observed factors (umbrella usage and getting wet)</p>
<h3 id="time-and-causality">
  Time and Causality
  <a class="anchor" href="#time-and-causality">#</a>
</h3>
<p>Another martian observes that movies at a movie theater start after a group of people arrive and sit down. They conclude that people sitting down causes the movie to start.</p>
<p>This is an example of causality not always going forward in time: in this case, the movie being scheduled for a certain time actually caused the people to arrive and sit down, not the other way around.</p>
<h3 id="zero-correlation">
  Zero correlation
  <a class="anchor" href="#zero-correlation">#</a>
</h3>
<p>A third martian observes an expert sailor moving the rudder a lot, as the boat continues in a straight line despite heavy winds. The martian concludes that moving the rudder has no effect on the direction of the boat.</p>
<p>This is an example of variables with zero correlation still having a causal relationship.</p>
<h2 id="structural-causal-models">
  Structural Causal Models
  <a class="anchor" href="#structural-causal-models">#</a>
</h2>
<p>Structural Causal Models (SCMs, Graphical Models, Causal DAGs) are similar to <a class="internal-link broken">04 Bayes Nets</a>, except that arrows show causality in addition to dependence.</p>
<p><a class="internal-link broken">Pasted image 20221019224955.png</a></p>
<h2 id="quantifying-association">
  Quantifying Association
  <a class="anchor" href="#quantifying-association">#</a>
</h2>
<h3 id="pearson-correlation-coefficient">
  Pearson Correlation Coefficient
  <a class="anchor" href="#pearson-correlation-coefficient">#</a>
</h3>
<p>The Pearson Correlation Coefficient $\rho_{Z,Y}$ between two variables $Z$ and $Y$ can be described below:
$$\rho_{Z,Y} = \frac{cov(Z,Y)}{\sqrt{var(Z)var(Y)}}$$
where $cov(X,Y)$ is the 
<a href="http://prob140.org/textbook/content/Chapter_13/01_Covariance.html" rel="noopener">covariance</a>. $\rho$ is between -1 (perfect negative correlation) and 1 (perfect correlation).</p>
<h3 id="regression-coefficient">
  Regression Coefficient
  <a class="anchor" href="#regression-coefficient">#</a>
</h3>
<p>Suppose we have a linear regression $Y = \alpha + \beta Z + \epsilon$.
$\epsilon$ is the error, where $E[\epsilon] = 0$ and $cov(Z, \epsilon) = 0$.</p>
<p>The regression coefficient $\beta$ is described as follows:
$$\beta = \rho_{Z,Y} \cdot \frac{\sigma_Y}{\sigma_Z} = \frac{cov(Z,Y)}{var(Z)}$$</p>
<p>If we introduce another variable (i.e. $Y = \alpha + \beta Z + \gamma X)$, then $\beta$ describes the effect of $Z$ on $Y$ while adjusting for the effects of $X$.</p>
<h3 id="risk-differences-and-risk-ratio">
  Risk Differences and Risk Ratio
  <a class="anchor" href="#risk-differences-and-risk-ratio">#</a>
</h3>
<p>If in a binary situation (either the result $Y$ is $1$ or $0$), then we can quantify association using three methods:</p>
<p><strong>Risk Difference:</strong> $P(Y=1|Z=1) -  P(Y=1|Z=0)$
<strong>Risk Ratio:</strong> $P(Y=1|Z=1)/P(Y=1|Z=0)$
<strong>Odds Ratio:</strong>
$$\frac{P(Y=1|Z=1)/P(Y=0|Z=1)}{P(Y=1|Z=0)/P(Y=0|Z=0)}$$</p>
<h2 id="paradoxes">
  Paradoxes
  <a class="anchor" href="#paradoxes">#</a>
</h2>
<h3 id="simpsons-paradox">
  Simpson&rsquo;s Paradox
  <a class="anchor" href="#simpsons-paradox">#</a>
</h3>
<p>Aggregated data and disaggregated data create different conclusions.</p>
<p>For example, suppose two restaurants were rated as follows:<a class="internal-link broken">200</a>
Clearly, Restaurant B is better since it received a higher ratio of positive reviews.</p>
<p>However, if we break up the data by year, the following is observed:
<a class="internal-link broken">400</a>
Now, Restaurant A looks clearly better since it performed better in both 2019 and 2020.</p>
<p>Simpson&rsquo;s Paradox isn&rsquo;t really a paradox, since it just occurs due to a confounding variable. In the example above, the confounding variable is the effect of the COVID-19 pandemic on making reviews more negative overall: <a class="internal-link broken">300</a>
If we only look at the bottom half of this causal DAG, we can observe the results that we saw above without understanding why it occurs.</p>
<p>If a confounding variable is present, we should condition on it and draw conclusions based on the disaggregated results.</p>
<h3 id="berksons-paradox">
  Berkson&rsquo;s Paradox
  <a class="anchor" href="#berksons-paradox">#</a>
</h3>
<p>Berkson&rsquo;s Paradox is very similar to Simpson&rsquo;s Paradox, but acts on a <strong>collider</strong> variable rather than a confounding variable.</p>
<p>For instance, only plotting perceived flavor with perceived appearance for bread at a bakery could seem to show no correlation:</p>
<p><a class="internal-link broken">Pasted image 20221019231326.png</a></p>
<p>However, if we split the bread on display with the bread in the back, the following occurs:
<a class="internal-link broken">Pasted image 20221019231348.png</a></p>
<p>The DAG looks like the following.</p>
<p><a class="internal-link broken">Pasted image 20221019231220.png</a></p>
<h2 id="potential-outcomes-framework">
  Potential Outcomes Framework
  <a class="anchor" href="#potential-outcomes-framework">#</a>
</h2>
<p>In the Potential Outcomes Framework, we construct universes under the assumption that no confounding variables exist.</p>
<p>Suppose we have two universes, 0 and 1, where one has a treatment and one has a control in completely identical conditions. The outcomes are Y(0) and Y(1) respectively. The <strong>Individual Treatment Effect</strong> is equal to $Y(1) - Y(0)$.</p>
<p>This attempts to mitigate the fundamental problem of causal inference, which is that we can never truly compute the individual treatment effect in the real world since it&rsquo;s impossible to fully replicate a particular situation and only change one variable.</p>
<p>Since the ITE is impossible to compute, we&rsquo;ll try to find the <strong>average treatment effect (ATE)</strong>, $E[Y(1) - Y(0)]$, which expands to $E[Y(1) | Z=1] P(Z=1) - E[Y(0)|Z=1] P(Z=1) + E[Y(1)|Z=0] P(Z=0) - E[Y(0)|Z=0]P(Z=0)$. In most cases, this value is also impossible to compute because of the non-matching $Y$ and $Z$ terms (in the treatment case, what would have happened if they didn&rsquo;t actually receive the treatment).</p>
<p>An attempt to make this computable is the <strong>Simple Difference in Observed Means (SDO)</strong> which is simply $E[Y(1)|Z=1] - E[Y(0)|Z=0]$.  This would only be equal to the ATE if $Y$ and $Z$ are independent (if $A$ and $B$ are independent, then $E[A|B] = E[A]$). This is true in a randomized experiment.</p>
<p>A <strong>unit</strong> is a single data point that we&rsquo;re trying to make causal inferences on. For example, the unit in a drug test could be one person.</p>
<ul>
<li>Each unit has three random variables $(Z_i, Y_i(0), Y_i(1))$ where $Z$ is $1$ if the treatment was applied, $0$ otherwise.</li>
<li><strong>superpopulation model:</strong> units are i.i.d. (newer framework)</li>
<li><strong>fixed-sample model</strong>: $Z_i$ are i.i.d, $Y$ are fixed and unknown (traditional)</li>
</ul>
<p><strong>Science Table:</strong> displays units in a table. In reality, we can&rsquo;t observe the $Y$ corresponding to the outcome that didn&rsquo;t happen; the problem we need to solve is how we can fill these values in.
<a class="internal-link broken">Pasted image 20221025225351.png</a></p>
<p><strong>Stable Unit Treatment Value Assumption (SUTVA):</strong></p>
<ul>
<li>The same treatment is applied to all units
<ul>
<li>Example: surgery outcomes do not follow this assumption because some surgeons could be more skiilled than others</li>
</ul>
</li>
<li>Units do not affect each other
<ul>
<li>Example: social media influencers may affect the behaviors of their followers</li>
</ul>
</li>
</ul>
<h2 id="causal-inference-in-observational-studies">
  Causal Inference in Observational Studies
  <a class="anchor" href="#causal-inference-in-observational-studies">#</a>
</h2>
<p>Since we can&rsquo;t truly randomize treatments in observational studies, it&rsquo;s often difficult to find causality.</p>
<p>There are two main categories of methods for establishing causal inference:</p>
<p><strong>Unconfoundedness (conditional independence):</strong> Consider all confounding variables $X$, then assume $Z$ and $Y$ are conditionally independent given $X$.</p>
<ul>
<li>Matching, outcome regression, propensity weighting</li>
</ul>
<p><strong>Natrual experiments:</strong> Find natural sources of randomness and use these to get around the confound</p>
<ul>
<li>Instrumental variables, regression discontinuity, difference in differences</li>
</ul>
<h3 id="linear-structural-model">
  Linear Structural Model
  <a class="anchor" href="#linear-structural-model">#</a>
</h3>
<p>$$Y = \alpha + \beta X + \tau Z + \epsilon$$</p>
<ul>
<li>$E[\epsilon] = 0$, and $\epsilon$ is independent of $Z$ and $X$.</li>
<li>$X$ is the confounder, $Y$ is the outcome, and $Z$ is the treatment.
<ul>
<li><a class="internal-link broken">300</a></li>
</ul>
</li>
<li>Assume we can&rsquo;t know $X$ (too many considerations).</li>
<li>The ATE is equal to $\tau$.</li>
<li>Using ordinary least squares, $\hat\tau = cov(Y,Z)/var(Z) = cov(\tau Z, Z)/var(Z) + cov(\beta X, Z)/var(Z)$.
$$\hat\tau_{OLS} = \tau + \beta \frac{cov(X,Z)}{var(Z)}$$ where the second term is the <strong>omitted variable bias</strong>.</li>
</ul>
<h3 id="instrumental-variables">
  Instrumental Variables
  <a class="anchor" href="#instrumental-variables">#</a>
</h3>
<p>If there exists a truly random variable $W$, we may be able to take advantage of it in the model above. Certain conditions are required:</p>
<ul>
<li>W is independent of $X$.</li>
<li>$W$ only affects $Y$ through $Z$.
One example of an instrumental variable is the Vietnam War draft lottery system, where individuals were selected for service based on their birthday. This would directly affect whether or not the individual served in the lottery independent of other confounding factors, which could then be used to establish causality between military service and another variable.</li>
</ul>
<p><strong>Simple ratio of regression coefficients:</strong></p>
<ul>
<li>First, fit $Z$ from $W$ to get $\gamma$.</li>
<li>Then, fit Y from W to get $\tau \times \gamma$.</li>
<li>Divide the two values to get $\tau$ which is equal to the ATE.</li>
</ul>
<p><strong>Two Stage Least Squares:</strong> first predict $Z$ from $W$, then fit $Y$ from the predictions of $Z$ to get $\tau$ (ATE).
$$Y = \alpha + \beta X + \tau Z + \epsilon$$
$$Z = \alpha&rsquo; + \gamma W + \eta X + \delta$$</p>
<h3 id="conditional-independence-assumption">
  Conditional Independence Assumption
  <a class="anchor" href="#conditional-independence-assumption">#</a>
</h3>
<p>If we know the confounder, then the treatment and potentials might be independent (Z is independent of Y given X). This is also known as <strong>unconfoundedness</strong>.</p>
<p>Let the <strong>Conditional ATE</strong> be equal to $\tau(x) = E(Y(1) - Y(0) | X=x)$ such that $\tau = E(\tau(X))$ by the 
<a href="https://en.wikipedia.org/wiki/Law_of_total_expectation" rel="noopener">tower property</a>.</p>
<p><strong>Outcome regression:</strong> compute $\tau(x)$ for every $x$ and take the average. This is simple for binary variables or linear relationships (where $Y = aX + \tau Z)$, but is difficult for nonlinear or higher dimensional relationships.</p>
<p><strong>Matching:</strong> for every treated unit where $Z_i = 1$, find an untreated unit that has the same confounder values, and subtract their $Y$ values to estimate individual effect. Repeat this for every untreated unit, and average overall units to estiamte ATE.</p>
<p>This only works if there happen to be exact matches; approximate matching gets messy and requires additional assumptions.</p>
<h3 id="inverse-propensity-score-weighting">
  Inverse Propensity Score Weighting
  <a class="anchor" href="#inverse-propensity-score-weighting">#</a>
</h3>
<p>Main idea: reweight the population to approximate the true potential outcome averages E(Y(0)) and E(Y(1)).</p>
<p><a class="internal-link broken">Pasted image 20221028161315.png</a>
IPW formula: 4 possibilities for values of $y_i$ and $z_i$. Sum up number of times each possibility occurs and divide them by how likely they are to be treated ($e(x)$).</p>
<ul>
<li>The propensity score $e(X) = P(Z=1|X=x)$</li>
<li>Strategy:
<ul>
<li>make a table of all possible values of X and Z</li>
<li>divide each one by how likely it is to occur, and sum them all together</li>
<li>divide the whole result by $n$</li>
</ul>
</li>
</ul>


    
<div class="like-button">
    <link rel="stylesheet" href="https://api.bencuan.me/public/applause-button.css" />
    <script src="https://api.bencuan.me/public/applause-button.js"></script>
    
    
    <applause-button style="width: 48px; height: 48px" multiclap="true" color="#ff4faa" api="https://api.bencuan.me" />
</div>


<div class="page-end" id="footer">
    <div class="backlinks-container">
        <h3>Backlinks</h3>
<ul class="backlinks">
    
    
    
    
    
    
    
    <li>
      No backlinks found
    </li>
    
</ul>

    </div>
    <div>
        <script
  src="https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js"
  integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI="
  crossorigin="anonymous"
></script>
<h3>Interactive Graph</h3>
<div id="graph-container"></div>
<style>
  :root {
    --g-node: var(--secondary);
    --g-node-active: var(--primary);
    --g-node-inactive: var(--visited);
    --g-link: var(--outlinegray);
    --g-link-active: #5a7282;
  }
</style>

<script src="http://localhost:1313/quartz/js/graph.cbd78cfa87df7d3e230d16fc24f06548.js"></script>

    </div>
</div>






<div id="contact_buttons">
    <footer>
        
        
        <p>Made with <a href="https://bigdatajunction.com/">BigData Junction</a>, Â© 2024 BigData Junction</p>
        <ul>
            
            <li><a href="http://localhost:1313/">Home</a></li>
            <li><a href="https://github.com/64bitpandas/notes/issues">Feedback</a></li><li><a href="https://bencuan.me">Website</a></li></ul>
    </footer>
</div>


    
  </article>
 
      
      
      
      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#prediction-vs-causality">Prediction vs Causality</a></li>
        <li><a href="#case-studies-in-causality">Case Studies in Causality</a>
          <ul>
            <li><a href="#confounding-factor">Confounding Factor</a></li>
            <li><a href="#time-and-causality">Time and Causality</a></li>
            <li><a href="#zero-correlation">Zero correlation</a></li>
          </ul>
        </li>
        <li><a href="#structural-causal-models">Structural Causal Models</a></li>
        <li><a href="#quantifying-association">Quantifying Association</a>
          <ul>
            <li><a href="#pearson-correlation-coefficient">Pearson Correlation Coefficient</a></li>
            <li><a href="#regression-coefficient">Regression Coefficient</a></li>
            <li><a href="#risk-differences-and-risk-ratio">Risk Differences and Risk Ratio</a></li>
          </ul>
        </li>
        <li><a href="#paradoxes">Paradoxes</a>
          <ul>
            <li><a href="#simpsons-paradox">Simpson&rsquo;s Paradox</a></li>
            <li><a href="#berksons-paradox">Berkson&rsquo;s Paradox</a></li>
          </ul>
        </li>
        <li><a href="#potential-outcomes-framework">Potential Outcomes Framework</a></li>
        <li><a href="#causal-inference-in-observational-studies">Causal Inference in Observational Studies</a>
          <ul>
            <li><a href="#linear-structural-model">Linear Structural Model</a></li>
            <li><a href="#instrumental-variables">Instrumental Variables</a></li>
            <li><a href="#conditional-independence-assumption">Conditional Independence Assumption</a></li>
            <li><a href="#inverse-propensity-score-weighting">Inverse Propensity Score Weighting</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












