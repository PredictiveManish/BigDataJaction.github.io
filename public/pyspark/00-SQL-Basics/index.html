<!DOCTYPE html>
<html lang="en" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta property="og:url" content="http://localhost:1313/pyspark/00-SQL-Basics/">
  <meta property="og:site_name" content="📈 BigData Junction">
  <meta property="og:title" content="SQL Basics">
  <meta property="og:description" content="Relevant Materials # Note 1 Note 2 Discussion 1 What is SQL? # Structured Query Language (/ˈsiːkwəl/) is a highly standardized syntax for performing operations on a database.
Terminology # SQL databases are a set of named relations, or tables, that describe the relationship between attributes. You can think of attributes as the columns of the table, and each record (also known as a tuple) being one row in the table.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="pyspark">
    <meta property="article:modified_time" content="2024-06-16T16:12:02+05:30">
<title>SQL Basics | 📈 BigData Junction</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.a861a34b0976720d1504be0c2ee9870137640447a7fcac0c288dc885ce0f9bdb.css" integrity="sha256-qGGjSwl2cg0VBL4MLumHATdkBEen/KwMKI3Ihc4Pm9s=" crossorigin="anonymous">

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
  



<meta charset="UTF-8" />
<meta
  name="description"
  content="Relevant Materials # Note 1 Note 2 Discussion 1 What is SQL? # Structured Query Language (/ˈsiːkwəl/) is a highly standardized syntax for performing operations on a database.
Terminology # SQL databases are a set of named relations, or tables, that describe the relationship between attributes. You can think of attributes as the columns of the table, and each record (also known as a tuple) being one row in the table."
/>
<title>
  SQL Basics
</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />






<link rel="shortcut icon" type="image/png"  href="http://localhost:1313//favicon.png" />

























  
  


<link href="http://localhost:1313/styles.e08ceb33360cec132feb69cfb982e2a4.min.css" rel="stylesheet" />


<link href="http://localhost:1313/quartz/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css" rel="stylesheet" id="theme-link">

  

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" as="style"
      onload="this.onload=null;this.rel='stylesheet'"
      integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"
        integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx"
        crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js"
        integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR"
        crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js"
        integrity="sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A"
        crossorigin="anonymous"></script>

  






<script src="http://localhost:1313/quartz/js/darkmode.5222f81439f46765b5d071db9df5495d.min.js"></script>



<script src="http://localhost:1313/quartz/js/util.c69e233dc1cc331a30b0f670e657b425.min.js"></script>



<script async src="https://unpkg.com/@floating-ui/core@0.7.3"></script>
<script async src="https://unpkg.com/@floating-ui/dom@0.5.4"></script>

<script src="http://localhost:1313/quartz/js/popover.f03552ccb84d99ca615d1cfb9abde59e.min.js"></script>




<script defer src="http://localhost:1313/quartz/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js"></script>




<script defer src="http://localhost:1313/quartz/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js"></script>




<script defer src="http://localhost:1313/quartz/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js"></script>



 
<script>
  const SEARCH_ENABLED =  false 
  const LATEX_ENABLED =  true 
  const PRODUCTION =  false 
  const BASE_URL = "http://localhost:1313/"
  const fetchData = Promise.all([
        fetch("http:\/\/localhost:1313\/indices\/linkIndex.4cf79553ca8debc59a551ad2d349fa28.min.json")
          .then(data => data.json())
          .then(data => ({
            index: data.index,
            links: data.links,
          })),
        fetch("http:\/\/localhost:1313\/indices\/contentIndex.aec3b7dd5bc8f6d692d4e19aead79b2e.min.json")
          .then(data => data.json()),
      ])
      .then(([{index, links}, content]) => ({
        index,
        links,
        content,
      }))

    const render = () => {
    
    const siteBaseURL = new URL(BASE_URL);
    const pathBase = siteBaseURL.pathname;
    const pathWindow = window.location.pathname;
    const isHome = pathBase == pathWindow;

    addCopyButtons();
    

    

    addCollapsibleCallouts();
    

    
    initPopover(
      "http://localhost:1313",
       true 
    )
    

    
    const footer = document.getElementById("footer")
    if (footer) {
      const container = document.getElementById("graph-container")
      
      if (!container) return requestAnimationFrame(render)
      
      container.textContent = ""

      const drawGlobal = true;
      drawGraph(
          "http://localhost:1313",
          drawGlobal,
          [{"/cs61b":"#4388cc"},{"/data102":"#ba0af0"},{"/cs70":"#70fa70"},{"/cs61a":"#fbff22"},{"/cs186":"#ffaf1c"},{"/cs168":"#ff86a1"},{"/cs162":"#ffdfdd"}],
          drawGlobal ? {"centerForce":1,"depth":-1,"enableDrag":true,"enableLegend":false,"enableZoom":true,"fontSize":0.5,"linkDistance":1,"opacityScale":3,"repelForce":1,"scale":1.4} : {"centerForce":1,"depth":1,"enableDrag":true,"enableLegend":false,"enableZoom":true,"fontSize":0.6,"linkDistance":1,"opacityScale":3,"repelForce":2,"scale":1.2}
        );

      }
    

    
      var els = document.getElementsByClassName("mermaid");
      if (els.length > 0) {
        import('https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs').then(
          (obj) => {
            
            
            obj.default.init();
          }
        )
      }
    
  }

  const init = (doc = document) => {
    
    addCopyButtons();
    

    addTitleToCodeBlocks();
    renderMathInElement(doc.body, {
      delimiters: [
        {left: '$$', right: '$$', display: true},
        {left: '$', right: '$', display: false},
      ],
      macros: {
        '’': "'"
      },
      throwOnError : false
    });
    
  };
</script>

<script>
  window.Million = {
    navigate: (url) => (window.location.href = url),
    prefetch: () => {},
  }

  window.addEventListener("DOMContentLoaded", () => {
    init()
    render()
  })
</script>


</head>
<div id="search-container">
  <div id="search-space">
    <input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search"
      placeholder="Search for something..." dir="">
    <div id="results-container">
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js"
  integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin="anonymous" defer></script>

<script defer src="http://localhost:1313/quartz/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js"></script>



<header class="book-header">
    
    <label for="menu-control">
      <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
    </label>
    <h1 id="page-title"><a href="http://localhost:1313/">📈 BigData Junction</a></h1>
    <div class="spacer"></div>
    <div id="search-icon" class="quartz-search">
      <p>Search</p>
      <svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg>
    </div>
    <div class='darkmode'>
    <input class='toggle' id='darkmode-toggle' type='checkbox' tabindex="-1">
    <label id="toggle-label-light" for='darkmode-toggle' tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xml:space="preserve">
            <title>Light Mode</title>
            <path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z" />
        </svg>
    </label>
    <label id="toggle-label-dark" for='darkmode-toggle' tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'" xml:space="preserve">
            <title>Dark Mode</title>
            <path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z" />
        </svg>
    </label>
</div>
</header>


<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <main class="flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<div class="menu-search">
  <div id="search-icon" class="quartz-search">
    <p>Search</p>
    <svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7">
      <title id="title">Search Icon</title>
      <desc id="desc">Icon to open search</desc>
      <g class="search-path" fill="none">
        <path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4" />
        <circle cx="8" cy="8" r="7" />
      </g>
    </svg>
  </div>
</div>













  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-36a3ed262b315ff04085d7b53a448994" class="toggle"  />
    <label for="section-36a3ed262b315ff04085d7b53a448994" class="flex justify-between">
      <a href="/python/" class="book-collapse-toggle ">Python</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Object Oriented Programming</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/oop/inheritance/" class="">Inheritance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/oop/access-control/" class="">Access Control</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/oop/dynamic-method-selection/" class="">Dynamic Method Selection</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/oop/objects/" class="">Java Objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/oop/generics/" class="">Generic Types</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Asymptotics</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/asymptotics/asymptotics/" class="">Asymptotic Analysis Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/asymptotics/amortization/" class="">Amortization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/asymptotics/asymptotics-practice/" class="">Asymptotics Practice</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Abstract Data Types</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2805f6370848571b8798d519e9c354a9" class="toggle"  />
    <label for="section-2805f6370848571b8798d519e9c354a9" class="flex justify-between">
      <a href="/python/abstract-data-types/collections/" class="book-collapse-toggle ">Collections</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/collections/arrays/" class="">Arrays</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/collections/linked-lists/" class="">Linked Lists</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/collections/sets/" class="">Sets</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/collections/stacks-and-queues/" class="">Stacks and Queues</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f2ba402577081742d50fe3e1cde178c1" class="toggle"  />
    <label for="section-f2ba402577081742d50fe3e1cde178c1" class="flex justify-between">
      <a href="/python/abstract-data-types/binary-trees/" class="book-collapse-toggle ">Binary Trees</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/binary-trees/balanced-search-structures/" class="">Balanced Search Structures</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/binary-trees/heaps/" class="">Heaps</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/binary-trees/tries/" class="">Tries</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/graphs/" class="">Graphs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/hashing/" class="">Hashing and Hash Tables</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/union-find-disjoint-sets/" class="">Union Find (Disjoint Sets)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/abstract-data-types/comparables-and-comparators/" class="">Comparables and Comparators</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Algorithms</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-840c6fbe99128235711db7f7aea6e8ea" class="toggle"  />
    <label for="section-840c6fbe99128235711db7f7aea6e8ea" class="flex justify-between">
      <a href="/python/algorithms/searching/" class="book-collapse-toggle ">Searching</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/searching/binary-search/" class="">Binary Search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/searching/breadth-first-search-bfs/" class="">Breadth First Search (DFS)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/searching/depth-first-search-dfs/" class="">Depth First Search (DFS)</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-15240e0c0d29d00ce3941dfb840ed889" class="toggle"  />
    <label for="section-15240e0c0d29d00ce3941dfb840ed889" class="flex justify-between">
      <a href="/python/algorithms/shortest-paths/" class="book-collapse-toggle ">Shortest Paths</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/shortest-paths/dijkstras-algorithm/" class="">Dijkstra&#39;s Algorithm</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/shortest-paths/a-search/" class="">A* Search</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ebd3f2b246ca70c549a11d8499364c15" class="toggle"  />
    <label for="section-ebd3f2b246ca70c549a11d8499364c15" class="flex justify-between">
      <a href="/python/algorithms/minimum-spanning-trees/" class="book-collapse-toggle ">Minimum Spanning Trees</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/minimum-spanning-trees/kruskals-algorithm/" class="">Kruskal&#39;s Algorithm</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/minimum-spanning-trees/prims-algorithm/" class="">Prim&#39;s Algorithm</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/sorting/" class="">Sorting</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/algorithms/minimax/" class="">Minimax Algorithm</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Misc. Topics</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/python/misc-topics/modular-arithmetic/" class="">Modular Arithmetic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/python/misc-topics/more-resources/" class="">More Resources</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8eaa952c883657ff0fde6609f1afb6ac" class="toggle"  />
    <label for="section-8eaa952c883657ff0fde6609f1afb6ac" class="flex justify-between">
      <a href="/sql/" class="book-collapse-toggle ">SQL</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/sql/00-SQL-Basics/" class="">SQL Basics</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2cb61b7535210994a46f35adee41bda7" class="toggle"  />
    <label for="section-2cb61b7535210994a46f35adee41bda7" class="flex justify-between">
      <a href="/hadoop/" class="book-collapse-toggle ">Hadoop</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hadoop/latex-reference/" class="">LaTeX Reference</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Discrete Math</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/overview/" class="">Discrete Math Overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/propositional-logic/" class="">Propositional Logic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/proofs/" class="">Proofs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/stable-matching/" class="">Stable Matching</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/graphs/" class="">Graphs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/modular-arithmetic/" class="">Modular Arithmetic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/rsa-cryptography/" class="">RSA Cryptography</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/polynomials/" class="">Polynomials</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/countability/" class="">Countability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/discrete-math/computability/" class="">Computability</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Probability</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/probability-overview/" class="">Probability Overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/counting/" class="">Counting</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/discrete-probability/" class="">Discrete Probability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/hashing-and-the-union-bound/" class="">Hashing and the Union Bound</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/expectation-and-variance/" class="">Expectation and Variance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/concentration-inequalities/" class="">Concentration Inequalities</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/continuous-probability/" class="">Continuous Probability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/markov-chains/" class="">Markov Chains</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/the-beta-family/" class="">The Beta Family</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hadoop/probability/conditional-expectation-and-variance/" class="">Conditional Expectation and Variance</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f6ae2f239b12d2df8093c89b05eba5b9" class="toggle"  />
    <label for="section-f6ae2f239b12d2df8093c89b05eba5b9" class="flex justify-between">
      <a href="/hive/" class="book-collapse-toggle ">Hive</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hive/latex-reference/" class="">LaTeX Reference</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Discrete Math</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/overview/" class="">Discrete Math Overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/propositional-logic/" class="">Propositional Logic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/proofs/" class="">Proofs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/stable-matching/" class="">Stable Matching</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/graphs/" class="">Graphs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/modular-arithmetic/" class="">Modular Arithmetic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/rsa-cryptography/" class="">RSA Cryptography</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/polynomials/" class="">Polynomials</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/countability/" class="">Countability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/discrete-math/computability/" class="">Computability</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">Probability</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/probability-overview/" class="">Probability Overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/counting/" class="">Counting</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/discrete-probability/" class="">Discrete Probability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/hashing-and-the-union-bound/" class="">Hashing and the Union Bound</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/expectation-and-variance/" class="">Expectation and Variance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/concentration-inequalities/" class="">Concentration Inequalities</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/continuous-probability/" class="">Continuous Probability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/markov-chains/" class="">Markov Chains</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/the-beta-family/" class="">The Beta Family</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/hive/probability/conditional-expectation-and-variance/" class="">Conditional Expectation and Variance</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2602ae26ced6eeaf33acf65208f5d2ab" class="toggle"  />
    <label for="section-2602ae26ced6eeaf33acf65208f5d2ab" class="flex justify-between">
      <a href="/databases/" class="book-collapse-toggle ">Databases</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/databases/io/" class="">What is an I/O and why should I care?</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/00-SQL-Basics/" class="">SQL Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/01-Disks-Buffers-Files/" class="">Disks, Buffers, and Files</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/02-B&#43;-Trees/" class="">B&#43; Trees</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/03-Buffer-Management/" class="">Buffer Management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/04-Sorting-and-Hashing/" class="">Sorting and Hashing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/05-Iterators-and-Joins/" class="">Iterators and Joins</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/06-Relational-Algebra/" class="">Relational Algebra</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/07-Query-Optimization/" class="">Query Optimization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/08-Transactions/" class="">Transactions and ACID</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/09-Parallel-Query-Processing/" class="">Parallel Query Processing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/10-Recovery/" class="">Recovery</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/11-Distributed-Transactions/" class="">Distributed Transactions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/databases/12-ER-Diagrams/" class="">E-R Diagrams</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f848154d2659534e47b8b735c6a1aa4d" class="toggle" checked />
    <label for="section-f848154d2659534e47b8b735c6a1aa4d" class="flex justify-between">
      <a href="/pyspark/" class="book-collapse-toggle ">Pyspark</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/pyspark/io/" class="">What is an I/O and why should I care?</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/00-SQL-Basics/" class="active">SQL Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/01-Disks-Buffers-Files/" class="">Disks, Buffers, and Files</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/02-B&#43;-Trees/" class="">B&#43; Trees</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/03-Buffer-Management/" class="">Buffer Management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/04-Sorting-and-Hashing/" class="">Sorting and Hashing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/05-Iterators-and-Joins/" class="">Iterators and Joins</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/06-Relational-Algebra/" class="">Relational Algebra</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/07-Query-Optimization/" class="">Query Optimization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/08-Transactions/" class="">Transactions and ACID</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/09-Parallel-Query-Processing/" class="">Parallel Query Processing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/10-Recovery/" class="">Recovery</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/11-Distributed-Transactions/" class="">Distributed Transactions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pyspark/12-ER-Diagrams/" class="">E-R Diagrams</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-463481d181ee2ba85d46b84df8b4ee12" class="toggle"  />
    <label for="section-463481d181ee2ba85d46b84df8b4ee12" class="flex justify-between">
      <a href="/airflow/" class="book-collapse-toggle ">Airflow</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/airflow/resources/" class="">Resources</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/airflow/midterm-tips/" class="">Midterm Tips</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c9e3e16db5c81a42de0a79d6b6abba50" class="toggle"  />
    <label for="section-c9e3e16db5c81a42de0a79d6b6abba50" class="flex justify-between">
      <a href="/warehousing/" class="book-collapse-toggle ">Data Warehousing</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/warehousing/binary-decision-making/" class="">Binary Decision Making</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/hypothesis-testing/" class="">Hypothesis Testing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/decision-theory/" class="">Decision Theory</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/parameter-estimation/" class="">Parameter Estimation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/sampling/" class="">Sampling</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/regression-and-glms/" class="">Regression and GLMs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/nonparametric-methods/" class="">Nonparametric Methods</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/interpretability/" class="">Interpretability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/causality/" class="">Causality</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/concentration-inequalities/" class="">Concentration Inequalities</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/bandits/" class="">Bandits</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/Markov-Decision-Processes/" class="">Markov Decision Processes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/warehousing/Reinforcement-Learning/" class="">Reinforcement Learning</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-86d841c4a4c551bb4e21d460836d4142" class="toggle"  />
    <label for="section-86d841c4a4c551bb4e21d460836d4142" class="flex justify-between">
      <a href="/spark/" class="book-collapse-toggle ">Spark</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/spark/intro-to-the-internet/" class="">Intro to the Internet</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/cli/" class="">CLI Tools</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/intradomain-routing/" class="">Introduction to Routing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/measuring-link-performance/" class="">Measuring Link Performance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/resource-sharing-packet-and-circuit-switching/" class="">Resource Sharing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/internet-organization-and-layers/" class="">Internet Organization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/sockets-and-ports/" class="">Sockets and Ports</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/addressing-ip/" class="">Addressing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/interdomain-routing-bgp/" class="">Interdomain Routing (BGP)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/TCP/" class="">TCP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/reliability/" class="">Reliability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/congestion-control/" class="">Congestion Control</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/dns/" class="">DNS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/web/" class="">Web</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/ethernet/" class="">Ethernet</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/end-to-end-operation/" class="">End to End Operation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/spark/final-review/" class="">Final Review</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b7b75b08ea746eeb407fc7d37ea4cda5" class="toggle"  />
    <label for="section-b7b75b08ea746eeb407fc7d37ea4cda5" class="flex justify-between">
      <a href="/git/" class="book-collapse-toggle ">Version Control-Git</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-1-OS-Basics/" class="">Chapter 1: OS Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-2-Processes/" class="">Chapter 2: Processes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-3-Threads/" class="">Chapter 3: Threads</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-4-I-O/" class="">Chapter 4: I/O</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-5-Synchronization/" class="">Chapter 5: Synchronization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-6-Scheduling/" class="">Chapter 6: Scheduling</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-7-Address-Translation/" class="">Chapter 7: Address Translation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-8-Caching/" class="">Chapter 8: Caching</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Chapter-9-File-Systems/" class="">Chapter 9: File Systems</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/git/Appendix-A-GDB-foobars/" class="">GDB Reference</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/contributing"  target="_blank" rel="noopener">
        Contribute
      </a>
  </li>
  
  <li>
    <a href="https://github.com/64bitpandas/notes/issues"  target="_blank" rel="noopener">
        Feedback
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>
    <div class="book-page container">
      

      
      
  <article class="markdown">
    <h1 class="title">SQL Basics</h1>
    






  
  

  
  

  
  

  
  

  
  















  
  
  
  
  
  
  
  
  
  






<h2 id="relevant-materials">
  Relevant Materials
  <a class="anchor" href="#relevant-materials">#</a>
</h2>
<ul>
<li>
<a href="https://notes.bencuan.me/cs186/coursenotes/n01-SQLPart1.pdf" rel="noopener">Note 1</a></li>
<li>
<a href="https://notes.bencuan.me/cs186/coursenotes/n02-SQLPart2.pdf" rel="noopener">Note 2</a></li>
<li>
<a href="https://docs.google.com/presentation/d/1PZ7R8iKSm3gHUapi9l-WAlv_TWKQ-1VvAF98ZnEHW-o/edit" rel="noopener">Discussion 1</a></li>
</ul>
<h2 id="what-is-sql">
  What is SQL?
  <a class="anchor" href="#what-is-sql">#</a>
</h2>
<p><strong>S</strong>tructured <strong>Q</strong>uery <strong>L</strong>anguage (/ˈsiːkwəl/) is a highly standardized syntax for performing operations on a <strong>database</strong>.</p>
<h3 id="terminology">
  Terminology
  <a class="anchor" href="#terminology">#</a>
</h3>
<p>SQL databases are a set of named <strong>relations</strong>, or tables, that describe the relationship between <strong>attributes</strong>. You can think of attributes as the columns of the table, and each record (also known as a <strong>tuple</strong>) being one row in the table.</p>
<p>Relations are composed of:</p>
<ul>
<li>A <strong>schema</strong>, which is the description of the table. Schemas are fixed, with unique attribute names and atomic types (integer, text, etc.).</li>
<li>The <strong>instance</strong>, which is the set of data that satisfy the schema. Instances can frequently change (whenever a row is added or updated), as long as any additions are consistent with the schema.</li>
</ul>
<p>As an example for using this terminology: if we add a column to the table, we can say that &ldquo;we updated the schema of the relation to include an additional attribute&rdquo;.</p>
<h3 id="a-note-on-looking-up-sql-things-online">
  A note on looking up SQL things online
  <a class="anchor" href="#a-note-on-looking-up-sql-things-online">#</a>
</h3>
<p>The SQL syntax and features we cover in this course are known as &ldquo;standard SQL&rdquo;, whose specifications can be found 
<a href="https://blog.ansi.org/2018/10/sql-standard-iso-iec-9075-2016-ansi-x3-135/" rel="noopener">here</a>.</p>
<p>In the wild, there are many implementations of SQL (like SQLite, MySQL, MariaDB), which may have an extended feature set or slightly different syntax. We will generally stay away from these extended features, and you do not need to know them for now.</p>
<p>If you&rsquo;re struggling to find relevant information, I would recommend prepending &ldquo;sqlite&rdquo; to the front of your search query (e.g. &ldquo;sqlite how to create a table&rdquo;). We use SQLite in Project 1, and for most things it&rsquo;s safe to assume that the syntax will be what we&rsquo;re looking for. Read more about SQL vs SQLite 
<a href="https://cs186.gitbook.io/project/assignments/proj1/sql-vs-sqlite" rel="noopener">here</a>.</p>
<h3 id="running-sql-queries">
  Running SQL queries
  <a class="anchor" href="#running-sql-queries">#</a>
</h3>
<p>You will install sqlite3 in 
<a href="https://cs186.gitbook.io/project/assignments/proj1/getting-started" rel="noopener">Project 1</a>. Once you&rsquo;ve installed it, you can run <code>sqlite3</code> in your terminal to start an interactive session, or run <code>sqlite3 database.db</code> to read from a file named <code>database.db</code>.  Once in the session, you can also run <code>.read file.sql</code> to run queries written in the file <code>file.sql</code>, or run <code>.schema</code> to get schema information for the current database.</p>
<p>In a pinch, the 
<a href="https://code.cs61a.org/" rel="noopener">CS61A online interpreter</a> also works great, and has a built-in visualizer that&rsquo;s especially useful for exploring aggregation.</p>
<h3 id="pedagogy-note">
  Pedagogy note
  <a class="anchor" href="#pedagogy-note">#</a>
</h3>
<p>Don&rsquo;t get too hung up on the syntax, or remembering how to use every small feature of SQL. The language itself is only a small part of this course- for most of our time, we&rsquo;ll discuss how to actually <em>implement</em> the features you use here.</p>
<p>If you anticipate needing SQL in future work, 
<a href="https://www.w3schools.com/sql/sql_ref_keywords.asp" rel="noopener">here&rsquo;s a nice reference</a> for common keywords and how to use them.</p>
<h2 id="keys">
  Keys
  <a class="anchor" href="#keys">#</a>
</h2>
<p>When defining schemas, it&rsquo;s often important to be able to guarantee that rows are unique so that we can catch duplicate information. For example, if the school had a database of all enrolled students, we wouldn&rsquo;t want two students to have the same SID!</p>
<h3 id="primary-keys">
  Primary Keys
  <a class="anchor" href="#primary-keys">#</a>
</h3>
<p>Primary keys are unique, non-null, and can be used to identify an entry. Many times, adding <code>PRIMARY KEY (id)</code> during 





<a  rel="noopener"
  class="internal-link broken" data-src="#Create%20Table">table creation</a> is good enough.</p>
<p>In other cases, like the boat reservation tracking example in lecture, we would need more than one attribute (<code>PRIMARY KEY (sid, bid, day)</code>) to guarantee uniqueness, since a boat can be reserved many different times.</p>
<h3 id="foreign-keys">
  Foreign Keys
  <a class="anchor" href="#foreign-keys">#</a>
</h3>
<p>Foreign keys reference other tables&rsquo; primary keys. Building onto the boat example, the boat ID would be the same as the ID’s in a table of boats, so we could add <code>FOREIGN KEY (bid) REFERENCES Boats</code> to the reserves table instead of copying everything over.</p>
<p>The main purpose of foreign keys is to maintain the uniqueness and non-null constraint of an attribute, since it <em>has</em> to match the primary key of another table.</p>
<p>Below is a screenshot from lecture that puts some code to the example.



<img src="http://localhost:1313/pyspark/SQL%20Basics/Untitled.png" width="auto" alt="lecture screenshot"  /></p>
<h2 id="writing-queries">
  Writing Queries
  <a class="anchor" href="#writing-queries">#</a>
</h2>
<p>Enough with the long complicated words, let&rsquo;s write some SQL!</p>
<h3 id="create-table">
  Create Table
  <a class="anchor" href="#create-table">#</a>
</h3>
<p>First, let&rsquo;s create a table:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> clubs(
</span></span><span style="display:flex;"><span>	name TEXT,
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">alias</span> TEXT,
</span></span><span style="display:flex;"><span>	members INTEGER,
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (name)
</span></span><span style="display:flex;"><span>) <span style="color:#66d9ef">AS</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#e6db74">&#34;Computer Science Mentors&#34;</span>, <span style="color:#e6db74">&#34;CSM&#34;</span>, <span style="color:#ae81ff">500</span> <span style="color:#66d9ef">UNION</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#e6db74">&#34;Open Computing Facility&#34;</span>, <span style="color:#e6db74">&#34;OCF&#34;</span>, <span style="color:#ae81ff">50</span>;
</span></span></code></pre></div><p>
<a href="https://www.digitalocean.com/community/tutorials/sql-data-types" rel="noopener">Here&rsquo;s a good list of common data types that you can use.</a> For the purposes of this class we will mostly focus on INT, BOOLEAN, TEXT, CHAR(n), VARCHAR(n), and BYTE. More about what these do in the 





<a href="/pyspark/01-Disks-Buffers-Files/"  rel="noopener"
  class="internal-link" data-src="/pyspark/01-Disks-Buffers-Files/">next section</a>.</p>
<h3 id="insert-values">
  Insert Values
  <a class="anchor" href="#insert-values">#</a>
</h3>
<p>There&rsquo;s more clubs to add! Let&rsquo;s add one after the table has already been created:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> clubs <span style="color:#66d9ef">VALUES</span>
</span></span><span style="display:flex;"><span>	(<span style="color:#e6db74">&#34;Eta Kappa Nu&#34;</span>, <span style="color:#e6db74">&#34;HKN&#34;</span>, <span style="color:#ae81ff">100</span>),
</span></span><span style="display:flex;"><span>	(<span style="color:#e6db74">&#34;Computer Science Association&#34;</span>, <span style="color:#e6db74">&#34;CSUA&#34;</span>, <span style="color:#ae81ff">200</span>);
</span></span></code></pre></div><h3 id="basic-querying">
  Basic Querying
  <a class="anchor" href="#basic-querying">#</a>
</h3>
<p>Below is the basic structure of a query:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> name <span style="color:#66d9ef">AS</span> clubname
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> clubs
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> members <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">100</span> <span style="color:#66d9ef">AND</span> members <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">300</span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> clubname
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">LIMIT</span> <span style="color:#ae81ff">3</span>;
</span></span></code></pre></div><p>Here, we:</p>
<ul>
<li>SELECT the column <code>name</code> FROM the table <code>clubs</code>, and rename it to <code>clubname</code>;</li>
<li>Keep only the clubs WHERE the number of members is between 100 and 300;</li>
<li>Sort the entries by name (ascending by default),</li>
<li>and keep only the top 3 entries (by alphabetical order).</li>
</ul>
<h3 id="aggregation">
  Aggregation
  <a class="anchor" href="#aggregation">#</a>
</h3>
<p>Aggregation can seem tricky, but the core idea is simple: <strong>crunch similar rows into one row, and keep one particularly interersting value.</strong></p>
<p>There are three parts to this:</p>
<ol>
<li><strong>GROUP BY:</strong> Specify the column containing the similar values. All rows with the same value in this column will be combined into one row.</li>
<li><strong>HAVING:</strong> Specify how you want to filter (this is optional.) The syntax is basically the same as <code>WHERE</code>, except instead of a column name, we use an aggregate on a column name (such as <code>MAX(members)</code> or <code>COUNT(*)</code>).</li>
<li>Modifications to <strong>SELECT:</strong> Ensure that all of the selected columns (except the one(s) passed into GROUP BY) are aggregates (MAX, MIN, COUNT, SUM&hellip;).</li>
</ol>
<p>It&rsquo;s possible to GROUP BY multiple columns. This will group together every combination of values in those two columns. For example, if we did <code>GROUP BY name, alias</code>, and two clubs <code>Open Computing Facility</code> and <code>Original Cat Friends</code> had the same alias <code>OCF</code>, they would represent two separate groups.</p>




<div class="book-tabs"><input type="radio" class="toggle" name="tabs-qc" id="tabs-qc-0" checked="checked" />
  <label for="tabs-qc-0">Quick Check</label>
  <div class="book-tabs-content markdown-inner">What is the difference between <code>WHERE</code> and <code>HAVING</code>?</div><input type="radio" class="toggle" name="tabs-qc" id="tabs-qc-1"  />
  <label for="tabs-qc-1">Answer</label>
  <div class="book-tabs-content markdown-inner"><p>In short, <code>WHERE</code> operates on individual rows, and <code>HAVING</code> operates on groups.</p>
<p>Whenever you want to do something that requires the <code>GROUP BY</code> to have been done first, like filter by <code>MAX(members) &gt; 100</code>, it needs to be in the <code>HAVING</code> clause.</p>
</div></div>

<h3 id="practice-problems">
  Practice Problems
  <a class="anchor" href="#practice-problems">#</a>
</h3>
<p>Still unsure about querying and aggregation? 
<a href="https://notes.bencuan.me/cs186/coursenotes/61A-Discussion-12.pdf" rel="noopener">Here are some of my old 61A discussion slides</a> that have some practice problems (back when we still taught SQL). All of the tables referenced are already preloaded for you in 
<a href="https://code.cs61a.org" rel="noopener">code.cs61a.org</a>.</p>
<h2 id="logical-processing-order">
  Logical Processing Order
  <a class="anchor" href="#logical-processing-order">#</a>
</h2>
<p>SQL Queries are typically processed in a different order than they&rsquo;re written. Here&rsquo;s the order- try to develop an intuition as to why this order would make more sense to a machine than how queries are usually written:</p>
<ol>
<li><code>FROM</code> (find the table that is being referenced, join if needed)</li>
<li><code>WHERE</code> (filters out rows)</li>
<li><code>GROUP BY</code> (aggregate)</li>
<li><code>HAVING</code> (filters out groups)</li>
<li><code>SELECT</code> (choose columns)</li>
<li><code>ORDER BY</code> (sort)</li>
<li><code>LIMIT</code> (cut off the output)</li>
</ol>
<p>When writing queries, I often like to follow this order as well since each step builds on the previous one.</p>
<h3 id="a-note-on-aliasing">
  A note on aliasing
  <a class="anchor" href="#a-note-on-aliasing">#</a>
</h3>
<p>One consequence of Logical Processing Order is that <strong>we cannot use aliases in WHERE, GROUP BY, or HAVING</strong> because they are processed before any alias is defined in SELECT!</p>
<p>For example, <code>SELECT name as clubname WHERE clubname = 'Open Computing Facility'</code> is NOT a valid query in standard SQL.</p>
<p>However, since ORDER BY and LIMIT come afterwards, we are allowed to use aliases there.</p>
<h2 id="joins">
  Joins
  <a class="anchor" href="#joins">#</a>
</h2>
<p>


<img src="http://localhost:1313/pyspark/SQL%20Basics/Untitled%201.png" width="auto" alt="Untitled"  />
If we have two tables and need to access information from both in a query, we will need to join the two tables together!</p>
<p>For this section, we will use the following tables as examples:



<img src="http://localhost:1313/pyspark/SQL%20Basics/Pasted%20image%2020230107122706.png" width="auto" alt=""  /></p>
<h3 id="cartesian-product">
  Cartesian Product
  <a class="anchor" href="#cartesian-product">#</a>
</h3>
<p>By default, if a join (<code>SELECT ... FROM a, b...</code>) is done in SQL without specifying a type, a <strong>cross product</strong> (Cartesian product) is calculated. Every row in table <code>a</code> (the left table) is combined with every row in table <code>b</code> to create $R_a * R_b$ rows ($R_a$ = number of rows in table <code>a</code>).</p>
<p>In the example below, since <code>clubs</code> had $2$ rows and <code>members</code> had $4$ rows, we should expect the result to have $3 \times 4 = 12$ rows. Note that most of these rows are pretty useless, since there is no correlation between the member and the club they were joined with.



<img src="http://localhost:1313/pyspark/SQL%20Basics/Pasted%20image%2020230107122726.png" width="500" alt="|500"  /></p>
<h3 id="inner-join">
  Inner Join
  <a class="anchor" href="#inner-join">#</a>
</h3>
<p>An inner join takes only the rows in which a particular attribute (or list of attributes) can be found in both the left and right tables.</p>
<ul>
<li>
<p>For example, an inner join on the <code>sid</code> attribute could be written out as <code>SELECT ... FROM a, b WHERE a.sid = b.sid</code>.</p>
</li>
<li>
<p>Inner join is the <strong>default behavior</strong> for the JOIN operation, which looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> ...
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> a <span style="color:#66d9ef">INNER</span> <span style="color:#66d9ef">JOIN</span> b
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ON</span> a.sid <span style="color:#f92672">=</span> b.sid
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div></li>
</ul>
<p>In the example below, we only keep the clubs CSM and OCF, and only keep the members that are in those two clubs:



<img src="http://localhost:1313/pyspark/SQL%20Basics/Pasted%20image%2020230107122849.png" width="auto" alt=""  /></p>
<h3 id="natural-join">
  Natural Join
  <a class="anchor" href="#natural-join">#</a>
</h3>
<p>A <code>NATURAL JOIN</code> automatically inner joins tables on whichever attributes share the same name between the two tables.</p>
<p>If the columns <code>alias</code> and <code>club</code> were both named the same thing, then <code>SELECT ... FROM a NATURAL JOIN b ...</code> is completely equivalent to the example in the inner join section above. Otherwise, the NATURAL JOIN will return an empty table if no column names are shared (even if the contents are the same).</p>
<h3 id="outer-join">
  Outer Join
  <a class="anchor" href="#outer-join">#</a>
</h3>
<p>Left outer joins return all matched rows (as in an inner join), AND additionally preserves all unmatched rows from the left table. Any non-matching fields will be filled in with null values.



<img src="http://localhost:1313/pyspark/SQL%20Basics/Pasted%20image%2020230107123046.png" width="auto" alt=""  /></p>
<p>A right outer join is the same as the left outer join, except it preserves unmatched rows from the right table instead. Flipping the table order on a left outer join creates an equivalent right outer join:



<img src="http://localhost:1313/pyspark/SQL%20Basics/Pasted%20image%2020230107123142.png" width="auto" alt=""  /></p>
<p>A full outer join returns all rows, matched or unmatched, from the tables on both sides of the join clause.</p>
<h2 id="advanced-mechanics">
  Advanced Mechanics
  <a class="anchor" href="#advanced-mechanics">#</a>
</h2>
<h3 id="string-comparisons">
  String Comparisons
  <a class="anchor" href="#string-comparisons">#</a>
</h3>
<p>Using the <code>LIKE</code> operator, we can do the following:</p>
<ul>
<li>Match any single character: <code>_</code></li>
<li>Match zero, one. or multiple characters: <code>%</code></li>
<li>Example: <code>WHERE name LIKE 'B_%'</code> will match all rows with a name starting with a B and are at least 2 characters long</li>
</ul>
<h3 id="unions-and-intersections">
  Unions and Intersections
  <a class="anchor" href="#unions-and-intersections">#</a>
</h3>
<p>The <code>UNION</code> operator combines two queries (like an OR statement).</p>
<p>The <code>INTERSECT</code> operator combines two queries, and discards rows that do not appear in both (like an AND statement).</p>
<p>The <code>EXCEPT</code> operator subtracts one query’s results from another.</p>
<p>UNION, INTERSECT, and EXCEPT operate using <strong>set semantics</strong> (distinct elements) and will keep only one of each unique element in the result.</p>
<p>Using UNION ALL, INTERSECT ALL, and EXCEPT ALL will manage <strong>cardinalities</strong> and will add or subtract the number of identical elements accordingly.</p>
<ul>
<li>UNION ALL = sum of cardinalities</li>
<li>INTERSECT ALL = minimum of cardinalities</li>
<li>EXCEPT ALL = difference of cardinalities</li>
</ul>
<h3 id="nested-queries">
  Nested Queries
  <a class="anchor" href="#nested-queries">#</a>
</h3>
<p>The  <code>IN</code> operator allows subqueries to be made. For example, we can <code>SELECT ... FROM ... WHERE id IN (SELECT .....)</code></p>
<ul>
<li>The <code>EXISTS</code> keyword can be used in place of <code>IN</code> to make <strong>correlated subqueries</strong> where the table in the subquery interacts with the outer query.</li>
<li><code>ANY</code> and <code>ALL</code> can be used as well: <code>SELECT * FROM a WHERE a.value &gt; ANY (subquery...)</code> would only keep rows in <code>a</code> that are bigger than the smallest value in the subquery.</li>
<li><code>ALL</code> can be used to compute an argmax: for example, if we want a sailor with the highest rating, we can <code>SELECT * FROM s WHERE s.rating &gt;= ALL(SELECT s2.rating FROM s s2)</code></li>
</ul>
<h3 id="views">
  Views
  <a class="anchor" href="#views">#</a>
</h3>
<p>A view is a <strong>named query.</strong> It can be thought of as a temporary table that can be accessed in future queries to make development simpler.  Unlike tables, it is not computed immediately, and results are cached when they are needed.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">VIEW</span> name
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">AS</span> <span style="color:#66d9ef">SELECT</span> ...
</span></span></code></pre></div><p>A “view on the fly” can also be created using the <code>WITH</code> keyword:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">WITH</span> name(col1, col2) <span style="color:#66d9ef">AS</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">SELECT</span> ...), 
</span></span><span style="display:flex;"><span>name2(col1, col2) <span style="color:#66d9ef">AS</span> (<span style="color:#66d9ef">SELECT</span> ...),
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> ...
</span></span></code></pre></div>

    
<div class="like-button">
    <link rel="stylesheet" href="https://api.bencuan.me/public/applause-button.css" />
    <script src="https://api.bencuan.me/public/applause-button.js"></script>
    
    
    <applause-button style="width: 48px; height: 48px" multiclap="true" color="#ff4faa" api="https://api.bencuan.me" />
</div>


<div class="page-end" id="footer">
    <div class="backlinks-container">
        <h3>Backlinks</h3>
<ul class="backlinks">
    
    
    
    
    
    
    
    <li>
      No backlinks found
    </li>
    
</ul>

    </div>
    <div>
        <script
  src="https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js"
  integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI="
  crossorigin="anonymous"
></script>
<h3>Interactive Graph</h3>
<div id="graph-container"></div>
<style>
  :root {
    --g-node: var(--secondary);
    --g-node-active: var(--primary);
    --g-node-inactive: var(--visited);
    --g-link: var(--outlinegray);
    --g-link-active: #5a7282;
  }
</style>

<script src="http://localhost:1313/quartz/js/graph.cbd78cfa87df7d3e230d16fc24f06548.js"></script>

    </div>
</div>






<div id="contact_buttons">
    <footer>
        
        
        <p>Made with <a href="https://bigdatajunction.com/">BigData Junction</a>, © 2024 BigData Junction</p>
        <ul>
            
            <li><a href="http://localhost:1313/">Home</a></li>
            <li><a href="https://github.com/64bitpandas/notes/issues">Feedback</a></li><li><a href="https://bencuan.me">Website</a></li></ul>
    </footer>
</div>


    
  </article>
 
      
      
      
      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#relevant-materials">Relevant Materials</a></li>
        <li><a href="#what-is-sql">What is SQL?</a>
          <ul>
            <li><a href="#terminology">Terminology</a></li>
            <li><a href="#a-note-on-looking-up-sql-things-online">A note on looking up SQL things online</a></li>
            <li><a href="#running-sql-queries">Running SQL queries</a></li>
            <li><a href="#pedagogy-note">Pedagogy note</a></li>
          </ul>
        </li>
        <li><a href="#keys">Keys</a>
          <ul>
            <li><a href="#primary-keys">Primary Keys</a></li>
            <li><a href="#foreign-keys">Foreign Keys</a></li>
          </ul>
        </li>
        <li><a href="#writing-queries">Writing Queries</a>
          <ul>
            <li><a href="#create-table">Create Table</a></li>
            <li><a href="#insert-values">Insert Values</a></li>
            <li><a href="#basic-querying">Basic Querying</a></li>
            <li><a href="#aggregation">Aggregation</a></li>
            <li><a href="#practice-problems">Practice Problems</a></li>
          </ul>
        </li>
        <li><a href="#logical-processing-order">Logical Processing Order</a>
          <ul>
            <li><a href="#a-note-on-aliasing">A note on aliasing</a></li>
          </ul>
        </li>
        <li><a href="#joins">Joins</a>
          <ul>
            <li><a href="#cartesian-product">Cartesian Product</a></li>
            <li><a href="#inner-join">Inner Join</a></li>
            <li><a href="#natural-join">Natural Join</a></li>
            <li><a href="#outer-join">Outer Join</a></li>
          </ul>
        </li>
        <li><a href="#advanced-mechanics">Advanced Mechanics</a>
          <ul>
            <li><a href="#string-comparisons">String Comparisons</a></li>
            <li><a href="#unions-and-intersections">Unions and Intersections</a></li>
            <li><a href="#nested-queries">Nested Queries</a></li>
            <li><a href="#views">Views</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












